spring:
  application:
    name: gatekeeper
  cloud:
    config:
      discovery:
        enabled: true
      failFast: true
      retry:
        maxAttempts: 100
        initialInterval: 2000
        maxInterval: 3000
        multiplier: 1.5
        
server:
  port: 9966

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/
    healthcheck:
      enabled: true
#   registerWithEureka: false

zuul:
#  prefix: /api
  ignoredServices: '*'
  routes:
    storyteller-api:
      path: /api/stories/**
      stripPrefix: false    
  
#ribbon:
#  ReadTimeout: 10000



hystrix:
  command:
    storyteller-api:
      execution:
        isolation:
          strategy: THREAD
          thread:
            timeoutInMilliseconds: 10000
  threadpool:
    default:
      coreSize: 50

storyteller-api:
  ribbon:
    ConnectTimeout: 250
    OkToRetryOnAllOperations: true
    MaxAutoRetriesNextServer: 2
    MaxAutoRetries: 0

logging:
#   file: /var/memento/security.log
  level:
    org.springframework.web: 'DEBUG'
    com.netflix: 'DEBUG'